<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>鲁棒优化电子书</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The last theme you&#39;ll ever need. Maybe.">
    <meta name="generator" content="Hugo 0.89.4" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
      <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="鲁棒优化电子书" />
      <link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="鲁棒优化电子书" />
      
    
    
    <meta property="og:title" content="Posts" />
<meta property="og:description" content="The last theme you&#39;ll ever need. Maybe." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/posts/" /><meta property="og:site_name" content="鲁棒优化电子书" />

<meta itemprop="name" content="Posts">
<meta itemprop="description" content="The last theme you&#39;ll ever need. Maybe."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="The last theme you&#39;ll ever need. Maybe."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        鲁棒优化电子书
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/posts/" title="Posts 页">
              Posts
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/5.%E5%A4%9A%E9%98%B6%E6%AE%B5%E9%97%AE%E9%A2%98%E4%B8%8E%E7%BA%BF%E6%80%A7%E5%86%B3%E7%AD%96%E8%A7%84%E5%88%99/" class="link black dim">
        5. 多阶段问题与线性决策规则
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      多阶段问题与线性决策规则（Multi-stage problem and linear decision rule） 汤勤深，陈植
第三章和第四章分别介绍了经典鲁棒优化和分布鲁棒优化的方法和模型。然而这些方法和模型主要针对单阶段（Single stage）的问题。而企业或者决策者面对的问题中，很大一部分都是多阶段的（Multi-stage）。也即，决策者需要在一定的时间内，按时间顺序进行多个决策，且决策时只知过去已发生的随机变量（Random variable）而无法预知未来的。多阶段问题的这些特性，使得对相应问题的建模和求解特别复杂。在优化领域，一般是用随机规划或者动态规划进行建模和求解。然而，随机规划和动态规划都遭受“维度诅咒”（Curse of dimensionality）。
针对随机规划和动态规划的这个致命缺点，鲁棒优化用一些决策规则（decision rule）进行规避。现有的决策规则已经可以达到很好的近似效果，甚至在某些条件下有一些决策规则可以达到最优。
在这一章，我们将聚焦于如何用这些决策规则对多阶段问题（主要是两阶段问题）进行求解。在此之前，我们先着重介绍两阶段的随机规划问题。
注：正如后面会讨论，决策规则近来越来越多地被改称为近似规则（Recourse approximation）。如若称为决策规则，则有后面阶段的决策将根据规则直接得到之嫌。而实际上，如果直接使用决策规则对后面阶段决策进行决策，其效果非常不可控。大多时候，模型会表现非常差。在模型的实施过程中，往往都是用滚动法（Rolling horizon），也即，在知道这一期的不确定性之后，将现在系统的状态当成初始状态，重新对模型进行求解，以获得下一期的最优决策。从这个角度来说，我们使用一定的规则去\textit{近似}未来的决策和不确定性之间的关系，从而达到简化模型的效果。
随机规划（Stochastic programming） \label{sp_intro} 为了更好地理解随机规划，我们举例如下。
示例1 单阶段库存管理模型 \label{example::single period inventory management}
小王前不久在小区开了一个小卖部。他发现，小区对苹果的需求$\tilde{d}$满足分布$F(\cdot)$。他每天需要决定向20里外小张定$x$斤苹果。每斤苹果的进货单价为$c$，销售价格为$p$。若库存不足,也即真实需求$d$大于订货量$x$，居民可以先下单，等有货了再送过去。针对这种情况，小王一般会给一定的折扣。折算下来，每一斤苹果将增加$b$的成本。而如果订货量太多，也即$x - d \geq 0$，苹果可能会变质，折算下来一斤苹果将增加$h$的成本。小王的利润为： $$ \pi(x, d) = p\min\{x, d\} - cx - b(d- x)^+ - h(x - d)^+. $$
小王想最大化他的期望利润，也即他将要解以下问题: $$ \begin{align} \max\ &amp; \mathbb{E}_{\mathbb{P}}{\pi(x,\tilde{d})} \label{model::inventory management}\\\ \mathrm{s.t.}\ &amp; x \geq 0\notag \notag \end{align} $$
示例$\ref{example::single period inventory management}$就是一个在商业环境中随处可见的随机规划问题：在已知随机分布和满足一定的约束的情况下，进行决策使得期望利润最大化。一般地，随机规划关注以下问题: $$ \begin{align} \min\ &amp; \mathbb{E}_{\mathbb{P}}{g(\pmb x,\tilde{\pmb \xi})}, \label{model::SP model1}\\\ \mathbf{s.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/7.%E9%B2%81%E6%A3%92%E4%BC%98%E5%8C%96%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="link black dim">
        7. 鲁棒优化与机器学习
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      鲁棒优化与机器学习（Machine learning） 覃含章
\textcolor{magenta}{分布式鲁棒贝叶斯学习\cite{kirschner2020distributionally}}
本章中我们介绍鲁棒优化与机器学习相结合的一些研究的最新进展。
从鲁棒优化角度看回归模型（Regression）: 正则性（Regularization）和鲁棒性（Robustness） 我们知道，著名的LASSO算法实际上是求解带有$L_1$正则项的线性回归模型。即，一般是考虑求解这样一个优化问题 $$ \min_{\pmb{\beta}} | \pmb{y} -\pmb{X} \pmb{\beta} |_2+\lambda |\pmb{\beta}|_1, $$ 其中$\pmb{X}\in \mathbb{R}^{M\times N}$是描述数据特征（feature）的矩阵，$\pmb{y}\in \mathbb{R}^M$是描述数据标签（label）的向量，$\lambda&gt;0$是正则项前的系数。在一些限制条件和假设下，可以证明存在某个自然数$k$,使得LASSO等价于求解如下问题（我们使用$|\cdot |_0$ 表示一个向量非零元素的个数，即$|\pmb{\beta}|_0=\text{card}(\{ i:\pmb{\beta}_i\neq 0 \})$）： $$ \begin{align*} \min_{\pmb{\beta}} &amp; |\pmb{y}-\pmb{X}\pmb{\beta}|_2 \\\ \text{s.t. } &amp; |\pmb{\beta}|_0 \leq k. \end{align*} $$ 也就是说在这种情况下LASSO所得到的解是稀疏（sparse）的。这里我们主要考虑这样一种非概率的统计模型，即我们认为我们只能得到$\pmb{X}$的一个带有误差的样本$ \pmb{X}'$。我们利用鲁棒优化的思想，认为$ \pmb{X}'=\pmb{X}+\pmb{\Delta}$，而$\pmb{\Delta}\in \mathcal{U}\subset \mathbb{R}^{M\times N}$，这里的$\mathcal{U}$就是我们的不确定集合（uncertainty set），注意这个集合是非随机的（deterministic）的。我们因此就可以考虑这样一个鲁棒线性回归问题： $$ \min_{\pmb{\beta}} \max_{\pmb{\Delta}\in \mathcal{U}} | \pmb{y} -(\pmb{X}+\pmb{\Delta}) \pmb{\beta} |_2. $$ 这个鲁棒线性回归是个什么意思呢，也就是说我们现在优化的时候，所选择的$\pmb \beta$是最小化了不确定集里最差的那个$\pmb X'$，即我们要让“最坏情况”下的损失函数值最小。而在传统的LASSO或者线性回归中，我们的目标可以看成是要让期望的损失函数值最小。下面先初步解答如下问题：在线性回归模型中，我们什么时候可以将正则性和鲁棒性，这一个来自统计/机器学习，一个来自优化理论的性质等同看待？这里就以回归模型中最出名的脊回归（Ridge Regression）和LASSO为例。 $$ \begin{align} &amp; \min_{\pmb{\beta}}|\pmb y - \pmb X\pmb \beta|_2+\lambda|\pmb \beta|_2=\min_{\pmb \beta}\max_{\pmb \Delta\in \mathcal{U}_{\text{RLS}}} | \pmb y - (\pmb X + \pmb \Delta) \pmb \beta|_2,\label{equ:RLS} \\\ &amp; \min_{\pmb{\beta}}|\pmb y - \pmb X\pmb \beta|_2 +\lambda |\pmb \beta|_1 =\min_{\pmb \beta}\max_{\pmb \Delta\in \mathcal{U}_{\text{LASSO}}} | \pmb y - (\pmb X+\pmb \Delta) \pmb \beta|_2\label{equ:LASSO}.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/8.%E9%B2%81%E6%A3%92%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9E%8B%E6%B1%82%E8%A7%A3/" class="link black dim">
        8. 鲁棒优化模型求解
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      鲁棒优化模型求解（Model implementation） 汤勤深，熊鹏
随着鲁棒优化方法的价值不断地被学界和业界发现，出现了越来越多的语言包支持鲁棒优化模型的直接求解。其中，有基于Julia的JuMPeR (Dunning, Huchette, and Lubin, 2017)，基于C语言的ROC (Bertsimas, Sim, and Zhang, 2019)，基于Matlab的XProg和YALMIP以及XProg的升级版RSOME。JUMPeR和YALMIP主要支持经典鲁棒优化模型，而ROC和RSOME既支持传统鲁棒优化模型也支持分布式鲁棒优化模型，并且还可以比较简洁地定义各种决策规则。在本章中，我们将简要介绍如何在JUMPeR和YALMIP上对鲁棒优化模型求解而着重介绍如何用RSOME求解不同形式的鲁棒优化模型。由于编码原因，本章代码块部分中的$\xi$由$xi$进行表示。
鲁棒模型在JuMPeR上的实现（Implementation on JuMPeR） JuMPeR全称Robust Optimization with JuMP。是基于Julia中JuMP而开发的一个用来求解鲁棒优化模型的语言包。 Julia是一门免费和开源的编程语言，于2018年8月1日正式发布。
JuMPeR可以处理大部分的经典鲁棒优化问题： $$ \begin{aligned} \min \ &amp; g( \pmb x)\label{model::JuMPeR RO}\\\ \mathbf{s.t.}\ &amp; f_i( \pmb x,\tilde{\pmb \xi}) \leq 0,, \forall \tilde{\pmb \xi} \in \mathcal{U}:= {\tilde{\pmb \xi} : h( \pmb \xi) \leq 0}, i \in [I], \end{aligned} $$ 其中，在JuMPeR中，鲁棒优化模型不能包含以下几种情况：
 不能有二次项，也即不能有变量乘变量（$x\mbox{*}y$）,不确定项乘不确定项（$\tilde{xi}\mbox{*}\tilde{\varepsilon}$）。但是允许不确定项和变量相乘（$x\mbox{*}\tilde{\xi}$）。 目标函数中不能包含不确定项。如果有的话，通过引入辅助变量将其转为约束条件。 在有不确定性的约束中不支持宏（Macros），所以必须使用“addConstraint”。  使用JuMPeR时，先用
 using JuMPeR 申明调用JuMPeR，并且用
 m = RobustModel() 来定义模型$m$。之后可以定义变量“@defVar()”、约束“addConstraint()”、不定集“@defUnc()”，或者设定目标函数“setObjective()”。举个栗子：
    </div>
  </div>
</div>

        </div>
      
    </section>
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/2/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item active">
        <a href="#" aria-current="page" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="" >
    &copy;  鲁棒优化电子书 2022 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
